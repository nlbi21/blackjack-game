const blackjack=(()=>{"use strict";const e=["C","D","H","S"],t=["A","J","Q","K"];let l=[],n=[];const s=document.querySelector("#game-buttons"),r=s.querySelector("#btn-new-game"),o=s.querySelector("#btn-get-card"),a=s.querySelector("#btn-stop"),c=document.querySelectorAll(".table-cards"),d=document.querySelectorAll(".player-points"),u=document.querySelector("#msg-modal"),i=u.querySelector("#msg-result-round");o.disabled=!0,a.disabled=!0;const m=(e=[])=>_.shuffle([...e]),b=(()=>{for(let t=2;t<=10;t++)for(const l of e)n.push({name:t+l,values:[t]});for(const l of e)for(const e of t)n.push({name:e+l,values:"A"===e?[1,11]:[10]});return n})();let f=m([...b]);const g=()=>f.length?f.shift():null,p=(e=2)=>{const t=e<2?2:e;l=[];for(let e=0;e<t;e++)l.push(0),c[e].innerHTML="",d.innerText=0;f=m([...b]),o.disabled=!1,a.disabled=!1},h=(e,t)=>(l[t]=l[t]+e.values[0],d[t].innerText=l[t],l[t]),v=(e,t)=>{let l=document.createElement("img");l.classList.add("card-game"),l.src=`./assets/images/${e.name}.png`,c[t].append(l)},y=(e=1)=>{let t=0;do{let e=g();t=h(e,l.length-1),v(e,l.length-1)}while(t<e&&e<=21);S()},S=()=>{const[e,t]=l;setTimeout(()=>{let l="";l=t>e&&t<=21||e>21?"DEALER WIN":e>t&&e<=21||t>21?"YOU WIN":"DRAW",i.innerText=l,$(u).modal("toggle")},100)};return o.addEventListener("click",e=>{e.preventDefault();const t=g(),l=h(t,0);v(t,0),(l>21||21===l)&&(o.disabled=!0,a.disabled=!0,y(l))}),a.addEventListener("click",e=>{e.preventDefault(),o.disabled=!0,a.disabled=!0,y(l[0])}),r.addEventListener("click",e=>{e.preventDefault(),p()}),{newGame:p}})();